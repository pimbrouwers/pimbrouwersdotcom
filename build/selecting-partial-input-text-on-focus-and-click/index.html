<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1"><meta name=author content="Pim Brouwers"><meta name=description content="The musings of a curious developer. Driven by problems. Inspired by solutions."><meta name=google-site-verification content=iG1XdnX4f9LBgkELpy_fTAfKRLnLcLCWj6ZpC_NlbYI><link rel=icon href=../favicon.ico><title>Selection Partial Input Text on Focus, Click and Other DOM Events | Pim Brouwers</title><link rel=stylesheet href=http://yui.yahooapis.com/pure/0.6.0/pure-min.css><!--[if lte IE 8]>
 
 <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-old-ie-min.css">
 
<![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css><!--<![endif]--><!--[if lte IE 8]>
 <link rel="stylesheet" href="css/layouts/blog-old-ie.css">
 <![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet type=text/css href=../css/style.min.css><!--<![endif]--><link rel=stylesheet type=text/css href=https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/default.min.css></head><body><div id=layout class=pure-g><div class="sidebar pure-u-1 pure-u-md-8-24 pure-u-lg-1-4"><div class=header><h1 class=brand-title><a href="/" title=Home>PIM BROUWERS</a></h1><!--<h2 class="brand-tagline">01110000 01101001 01101101</h2>--><h2 class=brand-tagline>Curious developer, fitness enthusiast and chair raver.</h2><nav class=nav><ul class=nav-list><li class=nav-item><a class=pure-button target=_blank title="Pim Brouwers' Stack Overflow Profile" href=http://stackoverflow.com/users/2421277/jiminygillickrs><span class="fa fa-stack-overflow"></span> Stack Overflow</a></li><li class=nav-item><a class=pure-button target=_blank title="Pim Brouwers' GitHub Profile" href=https://github.com/pimbrouwers><span class="fa fa-github-square"></span> GitHub</a></li><li class=nav-item><a class=pure-button target=_blank title="Pim Brouwers' LinkedIn Profile" href="http://ca.linkedin.com/pub/pim-brouwers/4b/3a3/223/"><span class="fa fa-linkedin-square"></span> LinkedIn</a></li></ul></nav></div></div><div class="content pure-u-1 pure-u-md-16-24 pure-u-lg-3-4"><!--All Posts--><div class=posts><h1 class=content-subhead>By <a href=https://plus.google.com/u/0/111830860305577267596/about rel=author target=_blank class=post-author>Pim Brouwers</a></h1><!--Post--><section class=post><header class=post-header><!--<img class="post-avatar" alt="Pim Brouwers&#x27;s avatar" height="48" width="48" src="../images/self.png">--><h2 class=post-title>Selection Partial Input Text on Focus, Click and Other DOM Events</h2><p class=post-meta><a href=../tag/JavaScript>JavaScript</a><a href=../tag/UX>UX</a></p></header><div class=post-description><p></p><p>I was recently working on a project that enabled users to rename files, backed by blob storage assets. Where this type of functionality becomes problematic is when files are renamed without extensions. We of course do not want to limit the user in anyway so we must expose the ability to modify the file name in it&#39;s entirety. In addition to checking server-side, which is always advisable in situations like this, I wanted to create an OS-like experience by default selecting the file name only without the extension. Windows 7/8 and OS X do this very nicely, and it makes renaming files more intuitive. How often are we modifying extensions right?</p><p>To implement this from a code stand point is super simple. Consider the following:</p><ul><li>Define a functions that locates the final period of the input value (assuming there is a value)</li><li>On DOM ready, bind the &quot;focus&quot; and &quot;click&quot; event handlers to this function</li></ul><p>Now in code:</p><pre><code class=lang-Javascript>//establish text selection method
var selectFilename = function () {
    var textval = $(this).val();

    if (!textval || textval == null || textval == &quot;&quot;) return;

    //find last period
    var suffixStartpos = textval.lastIndexOf(&quot;.&quot;);

    if (!suffixStartpos || suffixStartpos == null || suffixStartpos == &quot;&quot;) return;

    //set selection if all requirements fulfilled
    this.setSelectionRange(0, suffixStartpos);
};

//bind
$(&quot;#textinput&quot;).on(&quot;focus click&quot;, selectFilename);
</code></pre><p></p></div></section></div><div class=pagination><a href="/" onclick=window.history.back();>&laquo; Back</a></div></div></div><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/highlight.min.js></script><script>if(hljs) hljs.initHighlightingOnLoad();</script></body></html>